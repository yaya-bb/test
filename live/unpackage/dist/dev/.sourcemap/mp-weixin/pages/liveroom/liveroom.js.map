{"version":3,"sources":["uni-app:///main.js","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?8474","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?b26e","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?2276","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?4be4","uni-app:///pages/liveroom/liveroom.nvue","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?372f","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?8a49","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?e252","webpack:///D:/web/test/test/live/pages/liveroom/liveroom.nvue?1d26"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/liveroom/liveroom.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/liveroom/liveroom.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./liveroom.nvue?vue&type=template&id=a5ba0d10&\"\nvar renderjs\nimport script from \"./liveroom.nvue?vue&type=script&lang=js&\"\nexport * from \"./liveroom.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./liveroom.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./liveroom.nvue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/liveroom/liveroom.nvue\"\nexport default component.exports","export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=template&id=a5ba0d10&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  label,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n  button {\n    margin: 0;\n  }\n</style>\n<template>\n\t<view class=\"page\">\n\t\t\r\n\t\t<live-pusher\r\n\t\tid='livePusher'\r\n\t\tref=\"livePusher\" \r\n\t\tclass=\"livePusher\" \r\n\t\t:url=\"url\"\r\n\t\t:mode=\"mode\" \r\n\t\t:enable-camera=\"enableCamera\" \r\n\t\t:auto-focus=\"true\" \r\n\t\t:device-position=\"position\"\r\n\t\t:beauty=\"beauty\" \r\n\t\t:whiteness=\"whiteness\"\r\n\t\taspect=\"9:16\" \r\n\t\t@statechange=\"statechange\" \r\n\t\t@netstatus=\"netstatus\" \r\n\t\t@error = \"error\"\r\n\t\t:style=\"'height: '+windowHeight+'px;'\"\r\n\t\tstyle=\"width: 750rpx;\"></live-pusher>\r\n\t\t\r\n\t\t<!-- 头部 -->\r\n\t\t<view style=\"position: fixed;left: 0;right: 0;\" :style=\"'top:'+statusBarHeight+'px'\">\r\n\t\t\t<!-- 个人信息|观看详细信息 -->\r\n\t\t\t<view style=\"height: 80rpx;\" class=\"px-2 flex justify-between align-center\">\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle\">\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<image :src=\"user.avatar || '/static/tabbar/min.png'\" style=\"width: 70rpx;height: 70rpx;\" class=\"rounded-circle\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-1 flex flex-column justify-center\">\r\n\t\t\t\t\t\t<text class=\"text-white font\">{{ user.nickname || user.username }}</text>\r\n\t\t\t\t\t\t<text class=\"text-white font-sm\">{{ detail.look_count }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<view class=\"rounded-circle flex align-center justify-center bg-danger\" style=\"width: 70rpx;height: 70rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"text-white\">+</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle\">\r\n\t\t\t\t\t<scroll-view scroll-x=\"true\" class=\"flex-1 flex\">\r\n\t\t\t\t\t\t<view class=\"p\" v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<image :src=\"item.avatar || '/static/tabbar/min.png'\" style=\"width: 70rpx;height: 70rpx;\" class=\"rounded-circle\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<view class=\"rounded-circle flex align-center justify-center bg-danger\" style=\"width: 70rpx;height: 70rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"text-white font-sm\">{{ list.length }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 金币 -->\r\n\t\t\t<view style=\"height: 80rpx;\" class=\"px-2 my-2\">\r\n\t\t\t\t<view style=\"width: 325rpx;background-color: rgba(0,0,0,0.4);\" class=\"flex rounded-circle align-center\">\r\n\t\t\t\t\t<view class=\"p\">\r\n\t\t\t\t\t\t<text class=\"text-warning\">金币</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex-1 flex flex-column justify-center\">\r\n\t\t\t\t\t\t<text class=\"text-white font\">{{ detail.coin }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 收到礼物 -->\r\n\t\t\t<f-gift ref=\"gift\"></f-gift>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 弹幕 -->\r\n\t\t<f-danmu ref=\"danmu\"></f-danmu>\r\n\t\t\r\n\t\t<!-- 底部 -->\r\n\t\t<view style=\"position: fixed;left: 0;bottom: 0;right: 0;height: 120rpx;\" class=\"flex align-center justify-between\">\r\n\t\t\t\r\n\t\t\t<view class=\"flex-1 flex flex-column align-center justify-center\" v-for=\"(item,index) in btns\" :key=\"index\" @click=\"handleBottomEvent(item)\">\r\n\t\t\t\t<text class=\"iconfont text-white mb-1\">{{item.icon}}</text>\r\n\t\t\t\t<text class=\"text-white font\">{{item.name}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<uni-popup type=\"bottom\" ref=\"popup\">\r\n\t\t\t<view class=\"bg-white\">\r\n\t\t\t\t<view class=\"flex align-center justify-center border-bottom\" style=\"height: 90rpx;\">\r\n\t\t\t\t\t<text class=\"font-md\">{{popupTitle}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 画质选择 -->\r\n\t\t\t\t<view v-if=\"popupType === 'mode'\">\r\n\t\t\t\t\t<view class=\"flex align-center justify-center py-2\" v-for=\"(item,index) in modeList\" :key=\"index\" :class=\"mode === item.type ? 'bg-main' : ''\" @click=\"chooseMode(item)\">\r\n\t\t\t\t\t\t<text class=\"font-md\" :class=\"mode === item.type ? 'text-white' : ''\">{{item.desc}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 美颜 -->\r\n\t\t\t\t<view v-else-if=\"popupType === 'beauty'\">\r\n\t\t\t\t\t<slider :min=\"0\" :max=\"9\" :step=\"1\" :value=\"beauty\" :block-size=\"18\" show-value @change=\"handleSliderChange\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 美白 -->\r\n\t\t\t\t<view v-else-if=\"popupType === 'whiteness'\">\r\n\t\t\t\t\t<slider :min=\"0\" :max=\"9\" :step=\"1\" :value=\"whiteness\" :block-size=\"18\" show-value @change=\"handleSliderChange\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 更多 -->\r\n\t\t\t\t<view v-else class=\"flex flex-wrap\">\r\n\t\t\t\t\t<view class=\"flex flex-column align-center justify-center\" style=\"width: 150rpx;height: 150rpx;\" @click=\"pauseOrPlay\">\r\n\t\t\t\t\t\t<text class=\"iconfont mb-1\">&#xe611;</text>\r\n\t\t\t\t\t\t<text class=\"font\">{{ isPause ? '继续' : '暂停' }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex flex-column align-center justify-center\" style=\"width: 150rpx;height: 150rpx;\" @click=\"back\">\r\n\t\t\t\t\t\t<text class=\"iconfont mb-1\">&#xe64d;</text>\r\n\t\t\t\t\t\t<text class=\"font\">退出</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"f-divider\"></view>\r\n\t\t\t\t<view  class=\"flex align-center justify-center\"\r\n\t\t\t\tstyle=\"height: 90rpx;\" hover-class=\"bg-light\"\r\n\t\t\t\t@click=\"closePopup\">\r\n\t\t\t\t\t<text class=\"font-md\">取消</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t\n\t</view>\n</template>\n\n<script>\r\n\timport fGift from '@/components/live/f-gift.vue';\r\n\timport fDanmu from '@/components/live/f-danmu.vue';\r\n\timport uniPopup from '@/components/uni-ui/uni-popup/uni-popup.vue';\r\n\t\r\n\t// import demoGifts from '@/demo/gifts.js';\r\n\timport { mapState } from 'vuex';\r\n\t\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tfGift,\r\n\t\t\tfDanmu,\r\n\t\t\tuniPopup\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tstatusBarHeight:0,\r\n\t\t\t\tcontent:\"\",\r\n\t\t\t\tgifts:[],\r\n\t\t\t\tgiftActiveId:0,\r\n\t\t\t\t\r\n\t\t\t\turl:\"\",\r\n\t\t\t\tmode:\"SD\",\r\n\t\t\t\tenableCamera:true,\r\n\t\t\t\tposition:\"back\",\r\n\t\t\t\tbeauty:0,\r\n\t\t\t\twhiteness:0,\r\n\t\t\t\twindowHeight:0,\r\n\t\t\t\tcontext:null,\r\n\t\t\t\tmodeList:[{\r\n\t\t\t\t\ttype:\"SD\",\r\n\t\t\t\t\tdesc:\"标清\"\r\n\t\t\t\t},{\r\n\t\t\t\t\ttype:\"HD\",\r\n\t\t\t\t\tdesc:\"高清\"\r\n\t\t\t\t},{\r\n\t\t\t\t\ttype:\"FHD\",\r\n\t\t\t\t\tdesc:\"超清\"\r\n\t\t\t\t}],\r\n\t\t\t\tpopupType:\"mode\",\r\n\t\t\t\t\r\n\t\t\t\tbtns:[{\r\n\t\t\t\t\tname:\"翻转\",\r\n\t\t\t\t\ticon:\"\\ue605\",\r\n\t\t\t\t\tevent:\"switchCamera\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"画质\",\r\n\t\t\t\t\ticon:\"\\ue60c\",\r\n\t\t\t\t\tevent:\"openPopup\",\r\n\t\t\t\t\tparams:\"mode\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"美颜\",\r\n\t\t\t\t\ticon:\"\\ue632\",\r\n\t\t\t\t\tevent:\"openPopup\",\r\n\t\t\t\t\tparams:\"beauty\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"美白\",\r\n\t\t\t\t\ticon:\"\\ue631\",\r\n\t\t\t\t\tevent:\"openPopup\",\r\n\t\t\t\t\tparams:\"whiteness\"\r\n\t\t\t\t},{\r\n\t\t\t\t\tname:\"更多\",\r\n\t\t\t\t\ticon:\"\\ue84b\",\r\n\t\t\t\t\tevent:\"openPopup\",\r\n\t\t\t\t\tparams:\"more\"\r\n\t\t\t\t}],\r\n\t\t\t\tdetail:{\r\n\t\t\t\t\t\"created_time\": \"\",\r\n\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\"title\": \"\",\r\n\t\t\t\t\t\"cover\": \"\",\r\n\t\t\t\t\t\"user_id\": 0,\r\n\t\t\t\t\t\"look_count\": 0,\r\n\t\t\t\t\t\"coin\": 0,\r\n\t\t\t\t\t\"key\": \"\",\r\n\t\t\t\t\t\"status\": 0,\r\n\t\t\t\t\t\"userId\": 0,\r\n\t\t\t\t\t\"user\": {\r\n\t\t\t\t\t\t\"id\": 0,\r\n\t\t\t\t\t\t\"username\": \"\",\r\n\t\t\t\t\t\t\"avatar\": \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsign:\"\",\r\n\t\t\t\tlist:[],\r\n\t\t\t\t\r\n\t\t\t\t// 是否开始推流\r\n\t\t\t\tisStart:false,\r\n\t\t\t\tisPause:false,\r\n\t\t\t\t\r\n\t\t\t\tisget:false\n\t\t\t}\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tlet res = uni.getSystemInfoSync()\r\n\t\t\tthis.statusBarHeight = res.statusBarHeight\r\n\t\t\tthis.windowHeight = res.windowHeight\r\n\t\t\tif(e.options){\r\n\t\t\t\tlet options = JSON.parse(e.options)\r\n\t\t\t\tthis.mode = options.mode\r\n\t\t\t\tthis.position = options.position\r\n\t\t\t\tthis.beauty = options.beauty\r\n\t\t\t\tthis.whiteness = options.whiteness\r\n\t\t\t}\r\n\t\t\tif(e.data){\r\n\t\t\t\tlet d = JSON.parse(decodeURIComponent(e.data))\r\n\t\t\t\tthis.detail = d.data\r\n\t\t\t\tthis.sign = d.sign\r\n\t\t\t}\r\n\t\t\t// 监听全局事件\r\n\t\t\tuni.$on('live',this.handleLiveEvent)\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.context = uni.createLivePusherContext('livePusher', this)\r\n\t\t\tthis.startPreview()\r\n\t\t\t// 开始推流\r\n\t\t\tthis.start()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 加入直播间\r\n\t\t\tthis.joinOrLeaveLive('join')\r\n\t\t},\r\n\t\tdestroyed() {\r\n\t\t\t// 离开直播间\r\n\t\t\tthis.joinOrLeaveLive('leave')\r\n\t\t\t// 移除全局事件\r\n\t\t\tuni.$off('live',this.handleLiveEvent)\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tuser:state=>state.user,\r\n\t\t\t\tsocket:state=>state.socket,\r\n\t\t\t\ttoken:state=>state.token\r\n\t\t\t}),\r\n\t\t\tpopupTitle() {\r\n\t\t\t\tlet o = {\r\n\t\t\t\t\tmode:\"画质\",\r\n\t\t\t\t\tbeauty:\"美颜\",\r\n\t\t\t\t\twhiteness:\"美白\",\r\n\t\t\t\t\tmore:\"更多\"\r\n\t\t\t\t}\r\n\t\t\t\treturn o[this.popupType]\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBackPress() {\r\n\t\t\tif(!this.isget){\r\n\t\t\t\tthis.back()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\tpauseOrPlay(){\r\n\t\t\t\tif(!this.isPause){\r\n\t\t\t\t\treturn uni.showModal({\r\n\t\t\t\t\t\tcontent: '是否要暂停推流？',\r\n\t\t\t\t\t\tsuccess: (res)=>{\r\n\t\t\t\t\t\t\tif (res.cancel) {\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.pause()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// 继续推流\r\n\t\t\t\tthis.resume()\r\n\t\t\t},\r\n\t\t\t// 退出直播\r\n\t\t\tback(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '是否要退出直播间？',\r\n\t\t\t\t\tsuccess: (res)=> {\r\n\t\t\t\t\t\tif (res.cancel) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.stop()\r\n\t\t\t\t\t\tthis.isget = true\r\n\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '退出直播间成功',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 开始推流\r\n\t\t\tstart(){\r\n\t\t\t\tthis.context.start({\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tthis.isStart = true\r\n\t\t\t\t\t\t$H.post('/live/changestatus',{\r\n\t\t\t\t\t\t\tid:this.detail.id,\r\n\t\t\t\t\t\t\ttype:\"play\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\tthis.joinOrLeaveLive('join')\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 暂停推流\r\n\t\t\tpause(){\r\n\t\t\t\tthis.context.pause({\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tthis.isPause = true\r\n\t\t\t\t\t\t$H.post('/live/changestatus',{\r\n\t\t\t\t\t\t\tid:this.detail.id,\r\n\t\t\t\t\t\t\ttype:\"pause\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 继续推流\r\n\t\t\tresume(){\r\n\t\t\t\tthis.context.resume({\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tthis.isPause = false\r\n\t\t\t\t\t\t$H.post('/live/changestatus',{\r\n\t\t\t\t\t\t\tid:this.detail.id,\r\n\t\t\t\t\t\t\ttype:\"play\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tstop(){\r\n\t\t\t\tthis.context.stop({\r\n\t\t\t\t\tsuccess:()=>{\r\n\t\t\t\t\t\tthis.isStart = false\r\n\t\t\t\t\t\t$H.post('/live/changestatus',{\r\n\t\t\t\t\t\t\tid:this.detail.id,\r\n\t\t\t\t\t\t\ttype:\"stop\"\r\n\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\ttoken:true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleLiveEvent(e){\r\n\t\t\t\tlet d = e.data\r\n\t\t\t\tswitch (e.type){\r\n\t\t\t\t\tcase 'online':\r\n\t\t\t\t\tif(d.action === 'join'){\r\n\t\t\t\t\t\tthis.list = d.data\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'comment':\r\n\t\t\t\t\tthis.$refs.danmu.send({\r\n\t\t\t\t\t\tid:d.id,\r\n\t\t\t\t\t\tname:d.user.name,\r\n\t\t\t\t\t\tcontent:d.content\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'gift':\r\n\t\t\t\t\td.gift_image = $C.imageUrl + d.gift_image\r\n\t\t\t\t\tthis.detail.coin += d.gift_coin * d.num\r\n\t\t\t\t\tthis.$refs.gift.send(d)\r\n\t\t\t\t\tthis.closeGift()\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 加入或离开直播间\r\n\t\t\tjoinOrLeaveLive(type){\r\n\t\t\t\tif(this.socket && this.token){\r\n\t\t\t\t\tthis.socket.emit( type + 'Live',{\r\n\t\t\t\t\t\tlive_id:this.id,\r\n\t\t\t\t\t\ttoken:this.token\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleBottomEvent(item){\r\n\t\t\t\tthis[item.event](item.params)\r\n\t\t\t},\r\n\t\t\t// 画质选择\r\n\t\t\tchooseMode(item){\r\n\t\t\t\tthis.mode = item.type\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '画质切换为' + item.desc,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\topenPopup(type){\r\n\t\t\t\tthis.popupType = type\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t},\r\n\t\t\tclosePopup(){\r\n\t\t\t\tthis.$refs.popup.close()\r\n\t\t\t},\r\n\t\t\t// 切换摄像头\r\n\t\t\tswitchCamera(){\r\n\t\t\t\tthis.context.switchCamera({\r\n\t\t\t\t\tsuccess:(e)=>{\r\n\t\t\t\t\t\tthis.position = this.position === 'back' ? 'front' : 'back'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 开启预览\r\n\t\t\tstartPreview(){\r\n\t\t\t\tthis.context.startPreview({\r\n\t\t\t\t\tsuccess:(e)=>{\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 直播状态变化\r\n\t\t\tstatechange(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t},\r\n\t\t\t// 直播网络变化\r\n\t\t\tnetstatus(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t},\r\n\t\t\terror(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t},\r\n\t\t\thandleSliderChange(e){\r\n\t\t\t\tthis[this.popupType] = e.detail.value\r\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n.page{\r\n\tflex: 1;\r\n}\r\n.btn{\r\n\theight: 80rpx;\r\n\tborder-radius: 100rpx;\r\n\tbackground-color: rgba(255,255,255,0.12);\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.btn-icon{\r\n\twidth: 80rpx;\r\n\tmargin-right: 20rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1671466849790\n      var cssReload = require(\"D:/x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./liveroom.nvue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1671466849792\n      var cssReload = require(\"D:/x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}