{"version":3,"sources":["uni-app:///main.js","webpack:///D:/web/test/test/live/pages/coin/coin.vue?ae39","webpack:///D:/web/test/test/live/pages/coin/coin.vue?5171","webpack:///D:/web/test/test/live/pages/coin/coin.vue?5991","webpack:///D:/web/test/test/live/pages/coin/coin.vue?1acf","uni-app:///pages/coin/coin.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,yF,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AAC2M;AAC3M,gBAAgB,+MAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAyyB,CAAgB,wxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsD7zB;AACA;AACA,sBADA;AAEA,kCAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,oBADA;AAEA;AACA,gBADA;AAEA,iBAFA;AAGA;AACA,gBADA;AAEA,iBAFA,EAHA;AAMA;AACA,gBADA;AAEA,iBAFA,EANA;AASA;AACA,gBADA;AAEA,iBAFA,EATA;AAYA;AACA,iBADA;AAEA,kBAFA,EAZA;AAeA;AACA,gBADA,EAfA,CAFA;;AAoBA,cApBA;;AAsBA,GA5BA;AA6BA,QA7BA,oBA6BA;AACA;AACA;AACA;AACA;AACA,GAlCA;AAmCA;AACA,OADA,iBACA;AACA;AACA,yBADA;AAEA;AACA,mBADA,EAFA;AAIA,UAJA,CAIA;AACA;AACA;AACA,2BADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA,sBADA;;AAGA;AACA,WAbA;AAcA;AACA;AACA;AACA,yBADA;AAEA,6BAFA;AAGA,+BAHA;;AAKA,WArBA;;AAuBA,OA7BA,EA6BA,KA7BA,CA6BA;AACA;AACA,OA/BA;AAgCA,KAlCA;AAmCA,cAnCA,sBAmCA,KAnCA,EAmCA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA5CA;AA6CA;;;;AAIA,SAjDA,iBAiDA,IAjDA,EAiDA;AACA;AACA;AACA;AACA,KArDA;AAsDA;;;;;AAKA,WA3DA,mBA2DA,IA3DA,EA2DA,KA3DA,EA2DA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,KArEA,EAnCA,E","file":"pages/coin/coin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/coin/coin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./coin.vue?vue&type=template&id=435ad7a6&\"\nvar renderjs\nimport script from \"./coin.vue?vue&type=script&lang=js&\"\nexport * from \"./coin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/coin/coin.vue\"\nexport default component.exports","export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coin.vue?vue&type=template&id=435ad7a6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../x/Chrome/HBuilderX.3.5.3.20220729/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./coin.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"border-top border-light-secondary p-3\">\r\n\t\t<view class=\"rounded py-4 flex flex-column align-center justify-center bg-main\">\r\n\t\t\t<text class=\"text-white font-sm mb-2\">当前金币</text>\r\n\t\t\t<text class=\"font-weight-bold text-white\" style=\"font-size: 60rpx;\">50</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"border-top border-light-secondary my-3\"></view>\r\n\r\n\t\t<view>\r\n\t\t\t<text class=\"font-sm text-muted\">请选择充值金币</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex flex-wrap\" style=\"margin-left: -20rpx;margin-right: -20rpx;\">\r\n\t\t\t<view style=\"width: 33.3%;box-sizing: border-box;\" class=\"p-2\" v-for=\"(item,index) in list\" :key=\"index\" @click=\"chooseCoin(index)\">\r\n\t\t\t\t<view v-if=\"item.price > 0\" style=\"height: 130rpx;\" class=\"border rounded flex flex-column align-center justify-center\"\r\n\t\t\t\t :class=\" activeIndex === index ? 'border-main' : '' \">\r\n\t\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t\t<text class=\"iconfont text-warning mr-1\">&#xe633;</text>\r\n\t\t\t\t\t\t<text class=\"font-md font-weight-bold\">{{item.coin}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"font text-light-muted\">￥{{item.price}}</text>\r\n\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t<view v-else style=\"height: 130rpx;\" class=\"border rounded flex flex-column align-center justify-center\">\r\n\t\t\t\t\t<text class=\"font text-light-muted\">自定义</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view class=\"position-fixed left-0 bottom-0 right-0 border-top flex px-3 align-center\" style=\"height: 100rpx;\">\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<text class=\"iconfont text-warning mr-1\">&#xe633;</text>\r\n\t\t\t\t<text class=\"font-md font-weight-bold\">{{price}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bg-main rounded flex align-center justify-center ml-auto\" style=\"width: 150rpx;height: 70rpx;\" @click=\"pay\">\r\n\t\t\t\t<text class=\"text-white font-md\">去充值</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<uni-popup ref=\"popup\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog mode=\"input\" message=\"自定义充值\" :duration=\"2000\" placeholder=\"充值金额\" inputType=\"number\" :before-close=\"true\" @close=\"close\" @confirm=\"confirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniPopup from '@/components/uni-ui/uni-popup/uni-popup.vue';\r\n\timport uniPopupDialog from '@/components/uni-ui/uni-popup/uni-popup-dialog.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tuniPopupDialog\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveIndex: 0,\r\n\t\t\t\tlist: [{\r\n\t\t\t\t\tcoin: 10,\r\n\t\t\t\t\tprice: 10\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 20,\r\n\t\t\t\t\tprice: 20\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 30,\r\n\t\t\t\t\tprice: 30\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 50,\r\n\t\t\t\t\tprice: 50\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 100,\r\n\t\t\t\t\tprice: 100\r\n\t\t\t\t}, {\r\n\t\t\t\t\tprice: 0\r\n\t\t\t\t}],\r\n\t\t\t\tprice: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet p = this.list[this.activeIndex].price\r\n\t\t\tif (p > 0) {\r\n\t\t\t\tthis.price = p\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpay(){\r\n\t\t\t\tthis.$H.post('/gift/wxpay',{\r\n\t\t\t\t\tprice:this.price\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(orderInfo=>{\r\n\t\t\t\t\tconsole.log(orderInfo);\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider:\"wxpay\",\r\n\t\t\t\t\t\torderInfo:orderInfo,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getUserInfo')\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '充值成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '支付失败',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseCoin(index) {\r\n\t\t\t\tthis.activeIndex = index\r\n\t\t\t\tlet p = this.list[index].price\r\n\t\t\t\tif (p > 0) {\r\n\t\t\t\t\tthis.price = p\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 自定义价格\r\n\t\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击取消按钮触发\r\n\t\t\t * @param {Object} done\r\n\t\t\t */\r\n\t\t\tclose(done) {\r\n\t\t\t\t// TODO 做一些其他的事情，before-close 为true的情况下，手动执行 done 才会关闭对话框\r\n\t\t\t\t// ...\r\n\t\t\t\tdone()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击确认按钮触发\r\n\t\t\t * @param {Object} done\r\n\t\t\t * @param {Object} value\r\n\t\t\t */\r\n\t\t\tconfirm(done, value) {\r\n\t\t\t\tconsole.log(value);\r\n\t\t\t\tif(!value){\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入要充值的金额',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.price = value\r\n\t\t\t\tdone()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}